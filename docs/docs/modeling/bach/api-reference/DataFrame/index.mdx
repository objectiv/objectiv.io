---
date: '2022-05-02T12:52:16.459Z'
id: bach-api-reference-data-frame-index
slug: /modeling/bach/api-reference/DataFrame//
title: DataFrame
---

# DataFrame

<div class="table-autosummary">

|                                                  |                                                                                                                                             |
| ------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame)(engine, base_node, index, series, ...) | A mutable DataFrame representing tabular data in a database and enabling operations on that data.                                           |


</div>

## Reference by function

### Creation

<div class="table-autosummary">

|                                                  |                                                                                                                                             |
| ------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.from_table`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.from-table)(engine, table_name, index)  | Instantiate a new DataFrame based on the content of an existing table in the database.                                                      |
| [`DataFrame.from_model`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.from-model)(engine, model, index[, ...]) | Instantiate a new DataFrame based on the result of the query defined in `model`.                                                              |
| [`DataFrame.from_pandas`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.from-pandas)(engine, df, ...[, ...])     | Instantiate a new DataFrame based on the content of a Pandas DataFrame.                                                                     |
| [`DataFrame.copy`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.copy)()                                  | Return a copy of this DataFrame.                                                                                                            |


</div>

### Value accessors

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.head`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.head)([n])                               | Similar to `to_pandas()` but only returns the first `n` rows.                                                                                   |
| [`DataFrame.to_pandas`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.to-pandas)([limit])                      | Run a SQL query representing the current state of this DataFrame against the database and return the resulting data as a Pandas DataFrame.  |
| [`DataFrame.loc`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.loc)                                     | The `.loc` accessor offers different methods for label-based selection.                                                                       |


</div>

### Attributes and underlying data

#### Axes

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.index`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.index)                                   | Get the index dictionary `{name: Series}`                                                                                                     |
| [`DataFrame.data`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.data)                                    | Get the data dictionary `{name: Series}`                                                                                                      |
| [`DataFrame.all_series`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.all-series)                              | Get all index and data Series in a dictionary `{name: Series}`                                                                                |
| [`DataFrame.index_columns`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.index-columns)                           | Get all the index columns' names in a List                                                                                                  |
| [`DataFrame.data_columns`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.data-columns)                            | Get all the data Series' names in a List                                                                                                    |
| [`DataFrame.group_by`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.group-by)                                | Get this DataFrame's grouping, if any.                                                                                                      |
| [`DataFrame.order_by`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.order-by)                                | Get the current sort order, if any.                                                                                                         |


</div>

#### Types

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.dtypes`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.dtypes)                                  | Get the data Series' dtypes in a dictionary `{name: dtype}`                                                                                   |
| [`DataFrame.index_dtypes`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.index-dtypes)                            | Get the index Series' dtypes in a dictionary `{name: dtype}`                                                                                  |
| [`DataFrame.astype`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.astype)(dtype)                           | Cast all or some of the data columns to a certain dtype.                                                                                    |


</div>

#### Sql Model

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.materialize`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.materialize)([node_name, inplace, ...])  | Create a copy of this DataFrame with as base_node the current DataFrame's state.                                                            |
| [`DataFrame.get_sample`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.get-sample)(table_name[, filter, ...])   | Returns a DataFrame whose data is a sample of the current DataFrame object.                                                                 |
| [`DataFrame.get_unsampled`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.get-unsampled)()                         | Return a copy of the current sampled DataFrame, that undoes calling `get_sample()` earlier.                                                   |
| [`DataFrame.view_sql`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.view-sql)([limit])                       | Translate the current state of this DataFrame into a SQL query.                                                                             |


</div>

#### Variables

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.create_variable`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.create-variable)(name, value, \*[, ...])  | Create a Series object that can be used as a variable, within the returned DataFrame.                                                       |
| [`DataFrame.set_variable`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.set-variable)(name, value, \*[, dtype])   | Return a copy of this DataFrame with the variable value updated.                                                                            |
| [`DataFrame.get_all_variable_usage`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.get-all-variable-usage)()                | Get all variables that influence the values of this DataFrame.                                                                              |


</div>

### Reshaping, indexing, sorting & merging

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.sort_index`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.sort-index)([level, ascending])          | Sort dataframe by index levels.                                                                                                             |
| [`DataFrame.sort_values`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.sort-values)(by[, ascending])            | Create a new DataFrame with the specified sorting order.                                                                                    |
| [`DataFrame.rename`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.rename)([mapper, index, columns, ...])   | Rename columns.                                                                                                                             |
| [`DataFrame.drop`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.drop)([labels, index, columns, ...])     | Drop columns from the DataFrame                                                                                                             |
| [`DataFrame.drop_duplicates`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.drop-duplicates)([subset, keep, ...])    | Return a dataframe with duplicated rows removed based on all series labels or a subset of labels.                                           |
| [`DataFrame.dropna`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.dropna)(\*[, axis, how, thresh, subset])  | Removes rows with missing values (NaN, None and SQL NULL).                                                                                  |
| [`DataFrame.reset_index`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.reset-index)([level, drop])              | Drops the current index.                                                                                                                    |
| [`DataFrame.set_index`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.set-index)(keys[, drop, append])         | Set this dataframe's index to the the index given in keys                                                                                   |
| [`DataFrame.merge`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.merge)(right[, how, on, left_on, ...])   | Join the right Dataframe or Series on self.                                                                                                 |
| [`DataFrame.append`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.append)(other[, ignore_index, sort])     | Append rows of other dataframes to the the caller dataframe.                                                                                |
| [`DataFrame.fillna`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.fillna)(\*[, value, method, axis, ...])   | Fill any NULL value using a method or with a given value.                                                                                   |
| [`DataFrame.ffill`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.ffill)([sort_by, ascending])             | Fill missing values by propagating the last non-nullable value in each series.                                                              |
| [`DataFrame.bfill`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.bfill)([sort_by, ascending])             | Fill missing values by using the next non-nullable value in each series.                                                                    |
| [`DataFrame.stack`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.stack)([dropna])                         | Stacks all data_columns into a single index series.                                                                                         |
| [`DataFrame.unstack`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.unstack)([level, fill_value, ...])       | Pivot a level of the index labels.                                                                                                          |
| [`DataFrame.scale`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.scale)([with_mean, with_std])            | Standardizes all numeric series based on mean and population standard deviation.                                                            |
| [`DataFrame.minmax_scale`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.minmax-scale)([feature_range])           | Scales all numeric series based on a given range.                                                                                           |
| [`DataFrame.get_dummies`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.get-dummies)([prefix, prefix_sep, ...])  | Convert each unique category/value from a string series into a dummy/indicator variable.                                                    |


</div>

### Aggregation & windowing

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.agg`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.agg)(func[, axis, numeric_only])         | Aggregate using one or more operations over the specified axis.                                                                             |
| [`DataFrame.aggregate`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.aggregate)(func[, axis, numeric_only])   | Alias for `agg()`                                                                                                                             |
| [`DataFrame.groupby`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.groupby)([by])                           | Group by any of the series currently in this DataDrame, both from index as well as data.                                                    |
| [`DataFrame.rollup`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.rollup)(by)                              | Group by and roll up over the column(s) `by`, replacing any current grouping.                                                                 |
| [`DataFrame.cube`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.cube)(by)                                | Group by and cube over the column(s) `by`.                                                                                                    |
| [`DataFrame.window`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.window)(\*\*frame_args)                    | Create a window on the current dataframe grouping and its sorting.                                                                          |
| [`DataFrame.rolling`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.rolling)(window[, min_periods, ...])     | A rolling window of size 'window', by default right aligned.                                                                                |
| [`DataFrame.expanding`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.expanding)([min_periods, center])        | Create an expanding window starting with the first row in the group, with at least `min_period` observations.                                 |


</div>

### Computations & descriptive stats

#### All types

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.describe`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.describe)([percentiles, include, ...])   | Returns descriptive statistics.                                                                                                             |
| [`DataFrame.count`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.count)([axis, level, numeric_only])      | Count all non-NULL values in each column.                                                                                                   |
| [`DataFrame.min`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.min)([axis, skipna, level, ...])         | Returns the minimum of all values in each column.                                                                                           |
| [`DataFrame.max`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.max)([axis, skipna, level, ...])         | Returns the maximum of all values in each column.                                                                                           |
| [`DataFrame.median`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.median)([axis, skipna, level, ...])      | Returns the median of all values in each column.                                                                                            |
| [`DataFrame.mode`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.mode)([axis, skipna, level, ...])        | Returns the mode of all values in each column.                                                                                              |
| [`DataFrame.nunique`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.nunique)([axis, skipna])                 | Returns the number of unique values in each column.                                                                                         |
| [`DataFrame.value_counts`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.value-counts)([subset, normalize, ...])  | Returns a series containing counts of each unique row in the DataFrame                                                                      |


</div>

#### Numeric

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.mean`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.mean)([axis, skipna, level, ...])        | Returns the mean of all values in each column.                                                                                              |
| [`DataFrame.quantile`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.quantile)([q, axis])                     | Returns the quantile per numeric/timedelta column.                                                                                          |
| [`DataFrame.sem`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.sem)([axis, skipna, level, ddof, ...])   | Returns the unbiased standard error of the mean of each column.                                                                             |
| [`DataFrame.sum`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.sum)([axis, skipna, level, ...])         | Returns the sum of all values in each column.                                                                                               |
| [`DataFrame.std`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.std)([axis, skipna, level, ddof, ...])   | Returns the sample standard deviation of each column.                                                                                       |
| [`DataFrame.var`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.var)([axis, skipna, level, ddof, ...])   | Returns the unbiased variance of each column.                                                                                               |


</div>

#### Visualization

<div class="table-autosummary">

|                                                   |                                                                                                                                             |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| [`DataFrame.plot`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame.plot)                                    | The `.plot` accessor offers different methods for data visualization.                                                                         |


</div>
