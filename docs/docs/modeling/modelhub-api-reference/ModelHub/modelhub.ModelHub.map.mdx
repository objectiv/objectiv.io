---
date: '2022-04-29T20:56:28.716Z'
id: modelhub-api-reference-model-hub-modelhub-model-hub-map
slug: /modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.map/
title: map
---

# modelhub.ModelHub.map

<div>

<h2 class="signature-class"><span class="type-annotation"><em>property</em></span> <span class="additional-name">ModelHub.</span><span class="name">map(</span>)</h2>


<div class="content">

Access map methods from the model hub.

<div class="class">

<h2 class="signature-class"><span class="type-annotation"><em>class</em></span> <span class="name">Map(</span><small class="parameter-list"><span class="parameter" id="mh">mh</span></small>)</h2>


<div class="content">

Methods in this class can be used to map data in a DataFrame with Objectiv data to series values.

Always returns Series with same index as the DataFrame the method is applied to, so the result can be set
as columns to that DataFrame.

<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">conversions_counter(</span><small class="parameter-list"><span class="parameter" id="data">data</span>, <span class="parameter" id="name">name</span>, <span class="parameter" id="partition">partition='session_id'</span></small>)</h2>


<div class="content">

Counts the total number of conversions given a partition (ie session_id
or user_id).


### Parameters

* **`name`** – the name of the conversion to label as set in
[`ModelHub.conversion_events`](/docs/modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.conversion-events/#modelhub.ModelHub.conversion-events).

* **`partition`** – the partition over which the number of conversions are counted. Can be any column
of the ObjectivFrame



### Returns

`bach.SeriesBoolean` with the same index as `data`.



</div>

</div>
<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">conversions_in_time(</span><small class="parameter-list"><span class="parameter" id="data">data</span>, <span class="parameter" id="name">name</span>, <span class="parameter" id="partition">partition='session_id'</span></small>)</h2>


<div class="content">

Counts the number of time a user is converted at a moment in time given a partition (ie ‘session_id’
or ‘user_id’).


### Parameters

* **`data`** – [`bach.DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame/#bach.DataFrame) to apply the method on.

* **`name`** – the name of the conversion to label as set in
[`ModelHub.conversion_events`](/docs/modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.conversion-events/#modelhub.ModelHub.conversion-events).

* **`partition`** – the partition over which the number of conversions are counted. Can be any column
in `data`.



### Returns

`bach.SeriesInt64` with the same index as `data`.



</div>

</div>
<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">is_conversion_event(</span><small class="parameter-list"><span class="parameter" id="data">data</span>, <span class="parameter" id="name">name</span></small>)</h2>


<div class="content">

Labels a hit True if it is a conversion event, all other hits are labeled False.


### Parameters

* **`data`** – [`bach.DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame/#bach.DataFrame) to apply the method on.

* **`name`** – the name of the conversion to label as set in
[`ModelHub.conversion_events`](/docs/modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.conversion-events/#modelhub.ModelHub.conversion-events).



### Returns

`bach.SeriesBoolean` with the same index as `data`.



</div>

</div>
<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">is_first_session(</span><small class="parameter-list"><span class="parameter" id="data">data</span></small>)</h2>


<div class="content">

Labels all hits in a session True if that session is the first session of that user in the data.


### Parameters

**`data`** – [`bach.DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame/#bach.DataFrame) to apply the method on.



### Returns

`bach.SeriesBoolean` with the same index as `data`.



</div>

</div>
<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">is_new_user(</span><small class="parameter-list"><span class="parameter" id="data">data</span>, <span class="parameter" id="time_aggregation">time_aggregation=None</span></small>)</h2>


<div class="content">

Labels all hits True if the user is first seen in the period given `time_aggregation`.


### Parameters

* **`data`** – [`bach.DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame/#bach.DataFrame) to apply the method on.

* **`time_aggregation`** – if None, it uses the [`ModelHub.time_aggregation`](/docs/modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.time-aggregation/#modelhub.ModelHub.time-aggregation) set in ModelHub
instance.



### Returns

`bach.SeriesBoolean` with the same index as `data`.



</div>

</div>
<div class="method">

<h2 class="signature-class"><span class="additional-name">Map.</span><span class="name">pre_conversion_hit_number(</span><small class="parameter-list"><span class="parameter" id="data">data</span>, <span class="parameter" id="name">name</span>, <span class="parameter" id="partition">partition='session_id'</span></small>)</h2>


<div class="content">

Returns a count backwards from the first conversion, given the partition. I.e. first hit before
converting is 1, second hit before converting 2, etc. Returns None if there are no conversions
in the partition or after the first conversion.


### Parameters

* **`data`** – [`bach.DataFrame`](/docs/modeling/bach/api-reference/DataFrame/bach.DataFrame/#bach.DataFrame) to apply the method on.

* **`name`** – the name of the conversion to label as set in
[`ModelHub.conversion_events`](/docs/modeling/modelhub-api-reference/ModelHub/modelhub.ModelHub.conversion-events/#modelhub.ModelHub.conversion-events).

* **`partition`** – the partition over which the number of conversions are counted. Can be any column
in `data`.



### Returns

`bach.SeriesInt64` with the same index as `data`.



</div>

</div>

</div>

</div>

</div>

</div>
